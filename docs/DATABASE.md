# Tinder App Database Schema

This document describes the PostgreSQL database schema for the Tinder App backend.

## Users Table

| Column     | Type                                                | Description                        |
| ---------- | --------------------------------------------------- | ---------------------------------- |
| id         | BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY | Unique identifier for each user    |
| name       | VARCHAR(100)                                        | User’s full name                   |
| age        | INT                                                 | User’s age                         |
| email      | VARCHAR(150) UNIQUE                                 | User’s email address               |
| password   | VARCHAR(255)                                        | Hashed password for authentication |
| city       | VARCHAR(100)                                        | City name (e.g. Jakarta)           |
| country    | VARCHAR(100)                                        | Country name (e.g. Indonesia)      |
| latitude   | DECIMAL(10,8)                                       | Optional — precise coordinate      |
| longitude  | DECIMAL(11,8)                                       | Optional — precise coordinate      |
| created_at | TIMESTAMP DEFAULT CURRENT_TIMESTAMP                 | When the user was created          |
| updated_at | TIMESTAMP DEFAULT CURRENT_TIMESTAMP                 | When the user was last updated     |

## User Pictures Table

| Column     | Type                                                | Description                    |
| ---------- | --------------------------------------------------- | ------------------------------ |
| id         | BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY | Unique picture ID              |
| user_id    | BIGINT REFERENCES users(id) ON DELETE CASCADE       | Owner of the picture           |
| url        | VARCHAR(255)                                        | Picture URL or file path       |
| is_primary | BOOLEAN DEFAULT FALSE                               | Marks the main profile picture |
| created_at | TIMESTAMP DEFAULT CURRENT_TIMESTAMP                 | Upload time                    |

Relationship: users (1) → user_pictures (many)

## User Likes Table

| Column     | Type                                                | Description                            |
| ---------- | --------------------------------------------------- | -------------------------------------- |
| id         | BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY | Unique record ID                       |
| liker_id   | BIGINT REFERENCES users(id) ON DELETE CASCADE       | The user who performs the like/dislike |
| liked_id   | BIGINT REFERENCES users(id) ON DELETE CASCADE       | The target user being liked/disliked   |
| is_liked   | BOOLEAN                                             | true = like, false = dislike           |
| created_at | TIMESTAMP DEFAULT CURRENT_TIMESTAMP                 | When the action occurred               |

Relationship: users (1) → likes (many) (as both liker and liked)

## Admin Notifications Table

| Column        | Type                                                | Description                       |
| ------------- | --------------------------------------------------- | --------------------------------- |
| id            | BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY | Notification ID                   |
| user_id       | BIGINT REFERENCES users(id) ON DELETE CASCADE       | The user who reached 50+ likes    |
| email_sent_to | VARCHAR(150)                                        | Email of the admin                |
| status        | notification_status ENUM                            | Notification status               |
| created_at    | TIMESTAMP DEFAULT CURRENT_TIMESTAMP                 | When the notification was created |

## Relationships Summary

* users (1) → user_pictures (many)
* users (1) → user_likes (many) (via liker_id and liked_id)
* users (1) → admin_notifications (many)
